<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} | Inishowen Peninsula</title>
  <meta name="description" content="{{ description or 'Your guide to Inishowen Peninsula, Co. Donegal - beaches, walks, Malin Head, the Inishowen 100, and more' }}">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://inishowenpeninsula.com{{ page.url }}">

  <!-- Open Graph -->
  <meta property="og:title" content="{{ title }} | Inishowen Peninsula">
  <meta property="og:description" content="{{ description or 'Your guide to Inishowen Peninsula, Co. Donegal - beaches, walks, Malin Head, the Inishowen 100, and more' }}">
  <meta property="og:type" content="{% if layout == 'post.njk' %}article{% else %}website{% endif %}">
  <meta property="og:url" content="https://inishowenpeninsula.com{{ page.url }}">
  <meta property="og:site_name" content="Inishowen Peninsula">
  <meta property="og:locale" content="en_IE">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title }} | Inishowen Peninsula">
  <meta name="twitter:description" content="{{ description or excerpt or 'Your guide to Inishowen Peninsula, Co. Donegal - beaches, walks, Malin Head, the Inishowen 100, and more' }}">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒŠ</text></svg>">

  <!-- Self-hosted fonts - no third-party requests, no consent required -->
  <link rel="stylesheet" href="/assets/css/fonts.css">
  <link rel="stylesheet" href="/assets/css/style.css">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Inishowen Peninsula",
    "url": "https://inishowenpeninsula.com",
    "description": "Your guide to Inishowen Peninsula, Co. Donegal - beaches, walks, Malin Head, the Inishowen 100, and more",
    "publisher": {
      "@type": "Organization",
      "name": "Inishowen Peninsula",
      "url": "https://inishowenpeninsula.com"
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Place",
    "name": "Inishowen Peninsula",
    "description": "Ireland's most northerly peninsula, home to Malin Head, stunning beaches, the Wild Atlantic Way, and the scenic Inishowen 100 driving route.",
    "url": "https://inishowenpeninsula.com",
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "55.3667",
      "longitude": "-7.3833"
    },
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Inishowen",
      "addressRegion": "County Donegal",
      "addressCountry": "IE"
    },
    "containedInPlace": {
      "@type": "Place",
      "name": "County Donegal, Ireland"
    }
  }
  </script>

  {% if layout == 'post.njk' %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "{{ title }}",
    "description": "{{ excerpt or description }}",
    "datePublished": "{{ date | dateISO }}",
    "dateModified": "{{ date | dateISO }}",
    "author": {
      "@type": "Organization",
      "name": "Inishowen Peninsula"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Inishowen Peninsula",
      "url": "https://inishowenpeninsula.com"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://inishowenpeninsula.com{{ page.url }}"
    }
  }
  </script>
  {% endif %}
</head>
<body class="min-h-screen flex flex-col bg-paper-50 font-body text-gray-800 antialiased">

  <!-- Facebook SDK - loaded conditionally after consent -->
  <!-- See cookie-consent.js for conditional loading -->
  <div id="fb-root"></div>

  <!-- Top Bar -->
  <div class="bg-ocean-950 text-ocean-200 text-xs py-2">
    <div class="max-w-6xl mx-auto px-4 flex justify-between items-center">
      <span>Co. Donegal, Ireland</span>
      <span>{{ "now" | dateFormat }}</span>
    </div>
  </div>

  <!-- Header -->
  <header class="bg-white border-b border-gray-200">
    <div class="max-w-6xl mx-auto px-4">
      <!-- Masthead -->
      <div class="py-6 text-center border-b border-gray-100">
        <a href="/" class="inline-block group">
          <h1 class="font-display text-4xl md:text-5xl text-ocean-950 tracking-tight">
            Inishowen Peninsula
          </h1>
          <p class="text-sm text-gray-500 mt-1 tracking-widest uppercase">Discover Ireland's Most Northern Peninsula</p>
        </a>
      </div>

      <!-- Navigation -->
      <nav class="py-3">
        <ul class="flex items-center justify-center gap-8 text-sm font-medium flex-wrap">
          <li>
            <a href="/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Home
            </a>
          </li>
          <li>
            <a href="/news/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              News
            </a>
          </li>
          <li>
            <a href="/malin-head/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Malin Head
            </a>
          </li>
          <li>
            <a href="/inishowen-beaches/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Beaches
            </a>
          </li>
          <li>
            <a href="/things-to-do-inishowen/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Things to Do
            </a>
          </li>
          <li>
            <a href="/inishowen-100/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Inishowen 100
            </a>
          </li>
          <li>
            <a href="/inishowen-accommodation/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              Where to Stay
            </a>
          </li>
          <li>
            <a href="/about/" class="text-gray-700 hover:text-ocean-600 transition py-2 border-b-2 border-transparent hover:border-ocean-600">
              About
            </a>
          </li>
          <li>
            <a href="/submit/" class="text-white bg-ocean-600 hover:bg-ocean-700 transition px-4 py-2 rounded-full text-sm whitespace-nowrap">
              Share a Tip
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1">
    {{ content | safe }}
  </main>

  <!-- Footer -->
  <footer class="bg-ocean-950 text-white mt-auto">
    <div class="max-w-6xl mx-auto px-4 py-12">
      <div class="grid md:grid-cols-3 gap-8">
        <!-- Brand -->
        <div>
          <h3 class="font-display text-2xl mb-3">Inishowen Peninsula</h3>
          <p class="text-ocean-200 text-sm leading-relaxed">
            Your guide to Ireland's most northerly peninsula. Discover Malin Head, stunning beaches, the Inishowen 100, and more.
          </p>
        </div>

        <!-- Quick Links -->
        <div>
          <h4 class="font-semibold text-sm uppercase tracking-wider text-ocean-300 mb-3">Explore</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="/" class="text-ocean-100 hover:text-white transition">Home</a></li>
            <li><a href="/news/" class="text-ocean-100 hover:text-white transition">News</a></li>
            <li><a href="/malin-head/" class="text-ocean-100 hover:text-white transition">Malin Head</a></li>
            <li><a href="/inishowen-beaches/" class="text-ocean-100 hover:text-white transition">Beaches</a></li>
            <li><a href="/things-to-do-inishowen/" class="text-ocean-100 hover:text-white transition">Things to Do</a></li>
            <li><a href="/inishowen-100/" class="text-ocean-100 hover:text-white transition">Inishowen 100</a></li>
            <li><a href="/inishowen-accommodation/" class="text-ocean-100 hover:text-white transition">Where to Stay</a></li>
            <li><a href="/about/" class="text-ocean-100 hover:text-white transition">About</a></li>
            <li><a href="/submit/" class="text-ocean-100 hover:text-white transition">Share a Tip</a></li>
          </ul>
        </div>

        <!-- About -->
        <div>
          <h4 class="font-semibold text-sm uppercase tracking-wider text-ocean-300 mb-3">About Inishowen</h4>
          <p class="text-ocean-200 text-sm leading-relaxed">
            Ireland's largest peninsula and most northerly point. Part of the Wild Atlantic Way, featuring dramatic coastlines, ancient history, and welcoming communities.
          </p>
        </div>
      </div>

      <div class="border-t border-ocean-800 mt-8 pt-8 text-center text-ocean-400 text-xs">
        <p>&copy; 2026 Inishowen Peninsula. Serving visitors and locals across Inishowen.</p>
        <p class="mt-2">
          <a href="/privacy/" class="hover:text-white transition">Privacy Policy</a>
          <span class="mx-2">|</span>
          <button onclick="window.showCookieSettings && window.showCookieSettings()" class="hover:text-white transition underline">Cookie Settings</button>
        </p>
        <p class="mt-3 text-ocean-500">
          A <a href="https://wecreatewith.com" class="hover:text-ocean-300 transition">We Create With</a> project
        </p>
      </div>
    </div>
  </footer>

  <!-- Cookie Consent Banner -->
  <div id="cookie-banner" class="fixed bottom-0 left-0 right-0 bg-ocean-950 text-white p-4 shadow-lg transform translate-y-full transition-transform duration-300 z-50" style="display: none;">
    <div class="max-w-4xl mx-auto">
      <div class="flex flex-col md:flex-row items-start md:items-center gap-4">
        <div class="flex-1">
          <p class="text-sm leading-relaxed">
            We embed Facebook posts which may set cookies and track your activity.
            <a href="/privacy/" class="underline hover:text-ocean-200">Learn more</a>
          </p>
        </div>
        <div class="flex gap-3 flex-shrink-0">
          <button id="cookie-reject" class="px-4 py-2 text-sm border border-ocean-400 rounded hover:bg-ocean-800 transition">
            No Thanks
          </button>
          <button id="cookie-accept" class="px-4 py-2 text-sm bg-ocean-600 rounded hover:bg-ocean-500 transition">
            Allow Embeds
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cookie Consent JavaScript (Facebook SDK only) -->
  <script>
  (function() {
    const STORAGE_KEY = 'inishowen-cookie-consent';
    const banner = document.getElementById('cookie-banner');
    const acceptBtn = document.getElementById('cookie-accept');
    const rejectBtn = document.getElementById('cookie-reject');

    function getConsent() {
      try {
        const stored = localStorage.getItem(STORAGE_KEY);
        return stored ? JSON.parse(stored) : null;
      } catch (e) {
        return null;
      }
    }

    function saveConsent(facebookAllowed) {
      const consent = {
        facebook: facebookAllowed,
        timestamp: new Date().toISOString()
      };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(consent));
      return consent;
    }

    function loadFacebookSDK() {
      if (document.getElementById('fb-sdk-script')) return;
      const script = document.createElement('script');
      script.id = 'fb-sdk-script';
      script.async = true;
      script.defer = true;
      script.crossOrigin = 'anonymous';
      script.src = 'https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v21.0';
      document.body.appendChild(script);
    }

    // Show placeholders for blocked Facebook embeds
    function showEmbedPlaceholders() {
      const embeds = document.querySelectorAll('.fb-post, .fb-video');
      embeds.forEach(function(embed) {
        const postUrl = embed.getAttribute('data-href');
        const placeholder = document.createElement('div');
        placeholder.className = 'fb-placeholder bg-gray-100 border border-gray-300 rounded-lg p-6 my-4 text-center';
        placeholder.innerHTML =
          '<div class="text-gray-500 mb-3">' +
            '<svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>' +
            '<p class="text-sm font-medium">Facebook Post</p>' +
          '</div>' +
          '<p class="text-sm text-gray-600 mb-4">This content is blocked because you declined Facebook embeds.</p>' +
          '<div class="flex flex-col sm:flex-row gap-2 justify-center">' +
            (postUrl ? '<a href="' + postUrl + '" target="_blank" rel="noopener" class="inline-block px-4 py-2 text-sm bg-[#1877f2] text-white rounded hover:bg-[#166fe5] transition">View on Facebook</a>' : '') +
            '<button onclick="window.showCookieSettings()" class="inline-block px-4 py-2 text-sm border border-gray-400 text-gray-700 rounded hover:bg-gray-200 transition">Enable Embeds</button>' +
          '</div>';
        embed.parentNode.insertBefore(placeholder, embed);
        embed.style.display = 'none';
      });
    }

    // Remove placeholders (when user enables embeds)
    function removePlaceholders() {
      document.querySelectorAll('.fb-placeholder').forEach(function(p) { p.remove(); });
      document.querySelectorAll('.fb-post, .fb-video').forEach(function(e) { e.style.display = ''; });
    }

    function applyConsent(consent) {
      if (consent && consent.facebook) {
        removePlaceholders();
        loadFacebookSDK();
      } else if (consent && !consent.facebook) {
        showEmbedPlaceholders();
      }
    }

    function showBanner() {
      banner.style.display = 'block';
      setTimeout(function() {
        banner.classList.remove('translate-y-full');
      }, 100);
    }

    function hideBanner() {
      banner.classList.add('translate-y-full');
      setTimeout(function() {
        banner.style.display = 'none';
      }, 300);
    }

    window.showCookieSettings = function() {
      localStorage.removeItem(STORAGE_KEY);
      removePlaceholders();
      document.querySelectorAll('.fb-post, .fb-video').forEach(function(e) { e.style.display = ''; });
      showBanner();
    };

    acceptBtn.addEventListener('click', function() {
      const consent = saveConsent(true);
      applyConsent(consent);
      hideBanner();
    });

    rejectBtn.addEventListener('click', function() {
      const consent = saveConsent(false);
      applyConsent(consent);
      hideBanner();
    });

    const consent = getConsent();
    if (consent) {
      applyConsent(consent);
    } else {
      showBanner();
    }
  })();
  </script>

</body>
</html>
